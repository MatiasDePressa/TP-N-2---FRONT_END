<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TODAS LAS MATERIAS</title>
    <link rel="stylesheet" href="../Estilos/TodasMaterias.css">
</head>
<body>
    <img src="../Imagenes/Frente_Chacabuco.jpg" alt="Escuela Chacabuco Frente">
    <form method="post">
        <table>
            <caption>
                Listado de las Materias
            </caption>
            <thead>
                <tr>
                    <th>Nro de Materia</th>
                    <th>Nombre de Materia</th>
                    <th>Año</th>
                    <th>División</th>
                </tr>
            </thead>
            <tbody id="materias-list">
                <!-- Las materias serán insertadas aquí -->
            </tbody>
        </table>
        <p>Total de materias: <span id="total-materias">0</span></p>
    </form>
    
    <footer>
        <hr>
        <p><b>E.E.S.T N°6 CHACABUCO – MORÓN (7° 4° año 2024)</b></p>
        <p>Proyecto de Implementación de sitios web dinámicos</p>
        <p>Autores: Sebriano, Matos, De Pressa</p>
    </footer>

    <script>
        fetch('../BaseDeDatos/Base.json')
            .then(response => response.json())
            .then(materias => {
                const tbody = document.getElementById('materias-list');
                const totalMateriasSpan = document.getElementById('total-materias');
                
                materias.forEach(materia => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${materia.nro}</td>
                        <td>${materia.nombre}</td>
                        <td>${materia.año}</td>
                        <td>${materia.división}</td>
                    `;
                    tbody.appendChild(row);
                });

                totalMateriasSpan.textContent = materias.length;
            })
            .catch(error => console.error('Error al cargar las materias:', error));
    </script>
</body>
</html>
